/*! Base ~ Released under MIT license ~ Copyright (c) 2013 Teun Zengerink */
(function(){var a=[].slice;define(function(){var b;return b=function(){function b(){}return b.prototype.__handlers={},b.prototype.__events={},b.prototype.__mapOn=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.on(c,b));return d},b.prototype.__mapBind=function(a,b){var c,d,e;e=[];for(d in b)c=b[d],e.push(this.bind(a,d,c));return e},b.prototype.bind=function(a,b,c){return"object"==typeof b&&this.__mapBind(a,b),"undefined"==typeof this.__handlers[a]&&(this.__handlers[a]={}),"undefined"==typeof this.__handlers[a][b]&&(this.__handlers[a][b]=[]),this.__handlers[a][b].push(c),a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c),this},b.prototype.fire=function(){var b,c,d,e,f,g,h;if(c=arguments[0],e=arguments[1],b=3<=arguments.length?a.call(arguments,2):[],this.__handlers[c]&&this.__handlers[c][e])for(h=this.__handlers[c][e],f=0,g=h.length;g>f;f++)d=h[f],d.apply(this,b);return this},b.prototype.unbind=function(a,b){var c,d,e,f;if(this.__handlers[a]&&this.__handlers[a][b])for(f=this.__handlers[a][b],d=0,e=f.length;e>d;d++)c=f[d],a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent(b,c),this.__handlers[a][b]=[];return this},b.prototype.off=function(a){return this.__events[a]=[],this},b.prototype.on=function(a,b){return"object"==typeof a&&this.__mapOn(a),"undefined"==typeof this.__events[a]&&(this.__events[a]=[]),this.__events[a].push(b),this},b.prototype.trigger=function(){var b,c,d,e,f,g;for(d=arguments[0],b=2<=arguments.length?a.call(arguments,1):[],g=this.__events[d],e=0,f=g.length;f>e;e++)c=g[e],c.apply(this,b);return this},b}()})}).call(this);